<nav class="dashboard-nav">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a routerLink="/" style="text-decoration: none;">Home</a></li>
    <li class="breadcrumb-item active">Dashboard</li>
  </ol>
  <!-- <h6 style="margin-left: 80%; margin-top: 4px;">{{currentDate | date:"shortDate"}}</h6> -->
  
</nav>
<h3>Dashboard</h3>
<div class="row" style="margin-left: 2px; margin-right: 2px;">
  <div class="col-lg-3 pb-2 pt-2" style="background-color: rgb(238, 238, 238); ">
    <div class="row">
      <div class="col-11 text-white text-center mx-3 rounded pt-2 pv-2 font-weight-bold"
        style="background-color: rgb(168, 168, 168); font-family: Arial, Helvetica, sans-serif; font-weight: 600;">
        {{Designation | uppercase}}
      </div>
      <div class="col-12 text-center mt-2">
        <img src="../../assets/user_batman.png" width="115px">
      </div>
      <div class="col-12 text-center pt-2 pb-2" style="font-size: 20px;font-weight: 600;">{{UserName}}</div>
      <div class="col-12 text-center pt-2 pb-2" style="font-family: Arial, Helvetica, sans-serif; font-weight: 600;">
        TEAM SUMMERY</div>
      <div class="col-12 mb-2">
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center" style="font-size: 12px;">NO. OF
            TEAM MEMEBERS<span class="badge bg-primary rounded-pill" style="font-size: 13px;">{{NoOfTeamMembers}}</span>
          </li>
        </ul>
      </div>
      <div class="col-12 mb-2">
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center" style="font-size: 12px;">TOTAL
            COST OF ALL PROJECTS<span class="badge bg-primary rounded-pill" style="font-size: 13px;">$
              {{TotalCostOfAllProjects}} K</span></li>
        </ul>
      </div>
      <div class="col-12 mb-2">
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center" style="font-size: 12px;">PENDING
            TASK<span class="badge bg-primary rounded-pill" style="font-size: 13px;">{{PendingTasks}}</span></li>
        </ul>
      </div>
      <div class="col-12 mb-2">
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center" style="font-size: 12px;">
            UPCOMING PROJECT<span class="badge bg-primary rounded-pill"
              style="font-size: 13px;">{{UpComingProjects}}</span></li>
        </ul>
      </div>
      <div class="col-12 text-center pt-2 pb-2" style="font-family: Arial, Helvetica, sans-serif; font-weight: 600;">
        CLIENTS
        <div class="col-12" style="margin-top: 7px;">
          <ul class="list-group list-group-flush">
            <li class="list-group-item" style="font-weight: 400; border-radius: 5px;" *ngFor="let client of Clients">
              {{client}}</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
  <div class="col-lg-6">
    <div class="row">
      <div class="col-12 pt-0 pb-2" style="background-color: rgb(175, 175, 175);">
        <div class="row mt-2">
          <div class="col-6 text-left">
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                data-bs-toggle="dropdown" aria-expanded="false">
                Project A
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                style="background-color: rgb(223, 218, 218);">
                <li style="text-align: center;"><a class="dropdown-item" href="#" onclick="return false" (click)="onProjectChange($event)"
                    *ngFor="let projectName of Projects">{{projectName}}</a></li>
              </ul>
            </div>
          </div>
          <div class="col-6 text-right w3-right" style="display: flex; justify-content: flex-end;">
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                data-bs-toggle="dropdown" aria-expanded="false">
                Year
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                style="background-color: rgb(223, 218, 218);">
                <li style="text-align: center;"><a class="dropdown-item" href="#"
                    *ngFor="let year of Years">{{year}}</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row-11 mx-auto mt-1 text-center pt-2 pb-2 mx-auto rounded"
      style="background: cornflowerblue; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 600;">
      PROJECT BREFFING</div>
    <div class="col-12">
      <table class="table">
        <thead>

          <tr>
            <th scope="col">Project cost</th>
            <td scope="col">{{ProjectCost |currency : "INR"}}</td>
          </tr>

          <tr>
            <th scope="row">Current Expenditure</th>
            <td>{{CurrentExpenditure | currency : "INR"}}</td>
          </tr>
          <tr>
            <th scope="row">Project Cost</th>
            <td>{{ProjectCost | currency : "INR"}}</td>
          </tr>

        </thead>

      </table>
    </div>
    <div class="row-11 mx-auto mt-1 text-center pt-2 pb-2 mx-auto rounded"
      style="background: cornflowerblue; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 600;">
      TEAM MEMBERS SUMMERY</div>
    <div class="col-12" style="margin-top: 8px;">
      <table class="table table-striped table-hover" border="1">
        <tbody>
          <tr>
            <th scope="col">Region</th>
            <th scope="col">Team Members Count</th>
            <th scope="col">Temporarily Unavailable Members</th>
          </tr>

          <tr *ngFor="let teamSum of TeamMembersSummery">
            <th scope="row">{{teamSum.Rigion}}</th>
            <td>{{teamSum.TeamMembersCount}}</td>
            <td>{{teamSum.TemporarilyUnavaibleMembers}}</td>
          </tr>
        </tbody>
      </table>
    </div>



  </div>
  <div class="col-lg-3 pb-2 pt-2" style="background-color: rgb(238, 238, 238); ">

    <div class="col-lg-22 ">

      <div class="accordion" id="accordionExample">
        <div class="accordion-item" *ngFor="let teamMembersGrp of TeamMembers; let i=index">
          <h2 class="accordion-header " id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse"
              [attr.data-bs-target]="'#collapse'+i" aria-expanded="true" aria-controls="collapseOne">
              {{teamMembersGrp.Region}}
            </button>
          </h2>
          <div [id]="'collapse'+i" class="accordion-collapse collapse" aria-labelledby="headingOne"
            data-bs-parent="#accordionExample" [ngClass]="(i==0)?'show':''">
            <div class="accordion-body">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">NAME</th>
                    <th scope="col">STATUS</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let teamData of teamMembersGrp.Members">
                    <th scope="row">{{teamData.ID}}</th>
                    <td [style.color]="(teamData.Status == 'Busy')?'red':'black'">{{teamData.Name}}</td>
                    <td>{{teamData.Status}}</td>
                  </tr>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>